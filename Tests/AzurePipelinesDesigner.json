{"options":[{"enabled":false,"definition":{"id":"5d58cc01-7c75-450c-be18-a388ddb129ec"},"inputs":{"branchFilters":"[\"+refs/heads/*\"]","additionalFields":"{}"}},{"enabled":false,"definition":{"id":"a9db38f9-9fdc-478c-b0f9-464221e58316"},"inputs":{"workItemType":"367526","assignToRequestor":"true","additionalFields":"{}"}}],"variables":{"adminPwd":{"value":null,"isSecret":true},"adminUsername":{"value":"testuser"},"agentCount":{"value":"4"},"agentNamePrefix":{"value":"agent"},"pat":{"value":null,"isSecret":true},"resourcegroupname":{"value":"sampleresourcegroup"},"system.debug":{"value":"true","allowOverride":true}},"retentionRules":[{"branches":["+refs/heads/*"],"artifacts":[],"artifactTypesToDelete":["FilePath","SymbolStore"],"daysToKeep":10,"minimumToKeep":1,"deleteBuildRecord":true,"deleteTestResults":true}],"properties":{},"tags":[],"_links":{"self":{"href":"https://dev.azure.com/kavipriyaa/71bc0316-d6f3-44a4-9401-a467de3d86fc/_apis/build/Definitions/1?revision=62"},"web":{"href":"https://dev.azure.com/kavipriyaa/71bc0316-d6f3-44a4-9401-a467de3d86fc/_build/definition?definitionId=1"},"editor":{"href":"https://dev.azure.com/kavipriyaa/71bc0316-d6f3-44a4-9401-a467de3d86fc/_build/designer?id=1&_a=edit-build-definition"},"badge":{"href":"https://dev.azure.com/kavipriyaa/71bc0316-d6f3-44a4-9401-a467de3d86fc/_apis/build/status/1"}},"jobAuthorizationScope":1,"jobTimeoutInMinutes":60,"jobCancelTimeoutInMinutes":5,"badgeEnabled":true,"process":{"phases":[{"steps":[{"environment":{},"enabled":true,"continueOnError":false,"alwaysRun":false,"displayName":"Create machines","timeoutInMinutes":0,"condition":"succeeded()","task":{"id":"94a74903-f93f-4075-884f-dc11f34058b4","versionSpec":"2.*","definitionType":"task"},"inputs":{"ConnectedServiceName":"1c0b70c3-3846-4814-ac4c-8c42ea53d877","action":"Create Or Update Resource Group","resourceGroupName":"$(resourcegroupname)","location":"Southeast Asia","templateLocation":"URL of the file","csmFileLink":"https://raw.githubusercontent.com/Azure/azure-quickstart-templates/master/101-vm-simple-windows/azuredeploy.json","csmParametersFileLink":"https://raw.githubusercontent.com/Azure/azure-quickstart-templates/master/101-vm-simple-windows/azuredeploy.parameters.json","csmFile":"azuredeploy.json","csmParametersFile":"azuredeploy.parameters.json","overrideParameters":"-adminUsername $(adminUsername) -adminPassword $(adminPwd) -dnsLabelPrefix testsampleprefix","deploymentMode":"Incremental","enableDeploymentPrerequisites":"ConfigureVMwithWinRM","deploymentGroupEndpoint":"","project":"","deploymentGroupName":"","copyAzureVMTags":"true","runAgentServiceAsUser":"false","userName":"","password":"","outputVariable":"testvms","deploymentName":"","deploymentOutputs":""}},{"environment":{},"enabled":true,"continueOnError":false,"alwaysRun":false,"displayName":"NuGet restore","timeoutInMinutes":0,"condition":"succeeded()","task":{"id":"333b11bd-d341-40d9-afcf-b32d5ce6f23b","versionSpec":"2.*","definitionType":"task"},"inputs":{"command":"restore","solution":"**/*.sln","selectOrConfig":"select","feedRestore":"","includeNuGetOrg":"true","nugetConfigPath":"","externalEndpoints":"","noCache":"false","disableParallelProcessing":"false","packagesDirectory":"","verbosityRestore":"Detailed","searchPatternPush":"$(Build.ArtifactStagingDirectory)/**/*.nupkg;!$(Build.ArtifactStagingDirectory)/**/*.symbols.nupkg","nuGetFeedType":"internal","feedPublish":"","publishPackageMetadata":"true","allowPackageConflicts":"false","externalEndpoint":"","verbosityPush":"Detailed","searchPatternPack":"**/*.csproj","configurationToPack":"$(BuildConfiguration)","outputDir":"$(Build.ArtifactStagingDirectory)","versioningScheme":"off","includeReferencedProjects":"false","versionEnvVar":"","requestedMajorVersion":"1","requestedMinorVersion":"0","requestedPatchVersion":"0","packTimezone":"utc","includeSymbols":"false","toolPackage":"false","buildProperties":"","basePath":"","verbosityPack":"Detailed","arguments":""}},{"environment":{},"enabled":true,"continueOnError":false,"alwaysRun":false,"displayName":"Build solution **\\*.sln","timeoutInMinutes":0,"condition":"succeeded()","task":{"id":"71a9a2d3-a98a-4caa-96ab-affca411ecda","versionSpec":"1.*","definitionType":"task"},"inputs":{"solution":"**\\*.sln","vsVersion":"latest","msbuildArgs":"","platform":"","configuration":"","clean":"false","maximumCpuCount":"false","restoreNugetPackages":"false","msbuildArchitecture":"x86","logProjectEvents":"true","createLogFile":"false"}},{"environment":{},"enabled":true,"continueOnError":false,"alwaysRun":false,"displayName":"Publish Artifact: drop","timeoutInMinutes":0,"condition":"succeeded()","task":{"id":"2ff763a7-ce83-4e1f-bc89-0ae63477cebe","versionSpec":"1.*","definitionType":"task"},"inputs":{"PathtoPublish":"Tests/Tests","ArtifactName":"drop","ArtifactType":"Container","TargetPath":"","Parallel":"false","ParallelCount":"8"}},{"environment":{},"enabled":true,"continueOnError":false,"alwaysRun":false,"displayName":"Copy agent config scripts","timeoutInMinutes":0,"condition":"succeeded()","task":{"id":"eb72cb01-a7e5-427b-a8a1-1b31ccac8a43","versionSpec":"3.*","definitionType":"task"},"inputs":{"SourcePath":"Tests/Scrips","ConnectedServiceNameARM":"1c0b70c3-3846-4814-ac4c-8c42ea53d877","Destination":"AzureVMs","StorageAccountRM":"kaadhinastorage","ContainerName":"","BlobPrefix":"","EnvironmentNameRM":"$(resourcegroupname)","ResourceFilteringMethod":"machineNames","MachineNames":"","vmsAdminUserName":"$(adminUsername)","vmsAdminPassword":"$(adminPwd)","TargetPath":"C:\\scripts","AdditionalArgumentsForBlobCopy":"","AdditionalArgumentsForVMCopy":"","enableCopyPrerequisites":"false","CopyFilesInParallel":"true","CleanTargetBeforeCopy":"true","skipCACheck":"true","outputStorageUri":"","outputStorageContainerSasToken":"","sasTokenTimeOutInMinutes":""}},{"environment":{},"enabled":true,"continueOnError":false,"alwaysRun":false,"displayName":"Configure agents","timeoutInMinutes":0,"condition":"succeeded()","task":{"id":"3b5693d4-5777-4fee-862a-bd2b7a374c68","versionSpec":"2.*","definitionType":"task"},"inputs":{"EnvironmentName":"$(testvms)","AdminUserName":"$(adminUsername)","AdminPassword":"$(adminPwd)","Protocol":"Https","TestCertificate":"true","ScriptPath":"C:\\scripts\\InstallVstsAgent.ps1","ScriptArguments":"-VSTSAccount kavipriyaa -PersonalAccessToken $(pat) -AgentName $(agentNamePrefix) -PoolName testpool -AgentCount $(agentCount) -AdminUser kavipriya.a@outlook.com","InitializationScriptPath":"","SessionVariables":"","RunPowershellInParallel":"true","ResourceFilteringMethod":"machineNames","MachineNames":""}}],"name":"Provision machines and copy binaries","refName":"Phase_1","condition":"succeeded()","target":{"executionOptions":{"type":0},"allowScriptsAuthAccessOption":false,"type":1},"jobAuthorizationScope":1,"jobCancelTimeoutInMinutes":1},{"dependencies":[{"scope":"Phase_1","event":"Completed"}],"steps":[{"environment":{},"enabled":true,"continueOnError":false,"alwaysRun":false,"displayName":"Download Build Artifacts","timeoutInMinutes":0,"condition":"succeeded()","task":{"id":"a433f589-fce1-4460-9ee6-44a624aeb1fb","versionSpec":"0.*","definitionType":"task"},"inputs":{"buildType":"current","project":"","definition":"","specificBuildWithTriggering":"false","buildVersionToDownload":"latest","allowPartiallySucceededBuilds":"false","branchName":"refs/heads/master","buildId":"","tags":"","downloadType":"single","artifactName":"drop","itemPattern":"**","downloadPath":"$(System.ArtifactsDirectory)","parallelizationLimit":"8"}},{"environment":{},"enabled":true,"continueOnError":false,"alwaysRun":false,"displayName":"Visual Studio Test Platform Installer","timeoutInMinutes":0,"condition":"succeeded()","task":{"id":"2c65196a-54fd-4a02-9be8-d9d1837b7111","versionSpec":"1.*","definitionType":"task"},"inputs":{"packageFeedSelector":"nugetOrg","versionSelector":"latestPreRelease","testPlatformVersion":"","customFeed":"","username":"","password":"","netShare":""}},{"environment":{},"enabled":true,"continueOnError":false,"alwaysRun":false,"displayName":"Run tests using VSTest","timeoutInMinutes":0,"condition":"succeeded()","task":{"id":"ef087383-ee5e-42c7-9a53-ab56c98420f9","versionSpec":"2.*","definitionType":"task"},"inputs":{"testSelector":"testAssemblies","testAssemblyVer2":"**\\*test*.dll\n!**\\*TestAdapter.dll\n!**\\obj\\**","testPlan":"","testSuite":"","testConfiguration":"","tcmTestRun":"$(test.RunId)","searchFolder":"$(System.ArtifactsDirectory)","testFiltercriteria":"","runOnlyImpactedTests":"False","runAllTestsAfterXBuilds":"50","uiTests":"false","vstestLocationMethod":"version","vsTestVersion":"toolsInstaller","vstestLocation":"","runSettingsFile":"","overrideTestrunParameters":"","pathtoCustomTestAdapters":"","runInParallel":"False","runTestsInIsolation":"False","codeCoverageEnabled":"False","otherConsoleOptions":"","distributionBatchType":"basedOnTestCases","batchingBasedOnAgentsOption":"customBatchSize","customBatchSizeValue":"3","batchingBasedOnExecutionTimeOption":"autoBatchSize","customRunTimePerBatchValue":"60","dontDistribute":"False","testRunTitle":"","platform":"","configuration":"","publishRunAttachments":"true","diagnosticsEnabled":"True","collectDumpOn":"onAbortOnly","rerunFailedTests":"False","rerunType":"basedOnTestFailurePercentage","rerunFailedThreshold":"30","rerunFailedTestCasesMaxLimit":"5","rerunMaxAttempts":"3"}}],"name":"Run tests","refName":"Phase_2","condition":"succeeded()","target":{"queue":{"_links":{"self":{"href":"https://dev.azure.com/kavipriyaa/_apis/build/Queues/8"}},"id":8,"url":"https://dev.azure.com/kavipriyaa/_apis/build/Queues/8","pool":null},"executionOptions":{"maxConcurrency":4,"continueOnError":false,"type":2},"allowScriptsAuthAccessOption":false,"type":1},"jobAuthorizationScope":1,"jobCancelTimeoutInMinutes":1},{"dependencies":[{"scope":"Phase_2","event":"Completed"}],"steps":[{"environment":{},"enabled":true,"continueOnError":false,"alwaysRun":false,"displayName":"Get resource group machine details","timeoutInMinutes":0,"condition":"succeeded()","task":{"id":"94a74903-f93f-4075-884f-dc11f34058b4","versionSpec":"2.*","definitionType":"task"},"inputs":{"ConnectedServiceName":"1c0b70c3-3846-4814-ac4c-8c42ea53d877","action":"Select Resource Group","resourceGroupName":"$(resourcegroupname)","location":"Southeast Asia","templateLocation":"URL of the file","csmFileLink":"https://raw.githubusercontent.com/Azure/azure-quickstart-templates/master/101-vm-simple-windows/azuredeploy.json","csmParametersFileLink":"https://raw.githubusercontent.com/Azure/azure-quickstart-templates/master/101-vm-simple-windows/azuredeploy.parameters.json","csmFile":"azuredeploy.json","csmParametersFile":"azuredeploy.parameters.json","overrideParameters":"-adminUsername testuser -adminPassword Testpassword1234 -dnsLabelPrefix testsampleprefix123","deploymentMode":"Incremental","enableDeploymentPrerequisites":"ConfigureVMwithWinRM","deploymentGroupEndpoint":"","project":"","deploymentGroupName":"","copyAzureVMTags":"true","runAgentServiceAsUser":"false","userName":"","password":"","outputVariable":"testvms","deploymentName":"","deploymentOutputs":""}},{"environment":{},"enabled":true,"continueOnError":false,"alwaysRun":false,"displayName":"Unconfigure agents","timeoutInMinutes":0,"condition":"succeeded()","task":{"id":"3b5693d4-5777-4fee-862a-bd2b7a374c68","versionSpec":"2.*","definitionType":"task"},"inputs":{"EnvironmentName":"$(testvms)","AdminUserName":"$(adminUsername)","AdminPassword":"$(adminPwd)","Protocol":"Https","TestCertificate":"true","ScriptPath":"C:\\scripts\\UnconfigureVstsAgent.ps1","ScriptArguments":"-PersonalAccessToken $(pat) -AgentName $(agentNamePrefix) -AgentCount $(agentCount)","InitializationScriptPath":"","SessionVariables":"","RunPowershellInParallel":"true","ResourceFilteringMethod":"machineNames","MachineNames":""}},{"environment":{},"enabled":true,"continueOnError":false,"alwaysRun":false,"displayName":"Delete resource group","timeoutInMinutes":0,"condition":"succeeded()","task":{"id":"94a74903-f93f-4075-884f-dc11f34058b4","versionSpec":"2.*","definitionType":"task"},"inputs":{"ConnectedServiceName":"1c0b70c3-3846-4814-ac4c-8c42ea53d877","action":"DeleteRG","resourceGroupName":"$(resourcegroupname)","location":"","templateLocation":"Linked artifact","csmFileLink":"","csmParametersFileLink":"","csmFile":"","csmParametersFile":"","overrideParameters":"","deploymentMode":"Incremental","enableDeploymentPrerequisites":"None","deploymentGroupEndpoint":"","project":"","deploymentGroupName":"","copyAzureVMTags":"true","runAgentServiceAsUser":"false","userName":"","password":"","outputVariable":"","deploymentName":"","deploymentOutputs":""}}],"name":"Delete machines","refName":"Phase_3","condition":"succeededOrFailed()","target":{"executionOptions":{"type":0},"allowScriptsAuthAccessOption":false,"type":1},"jobAuthorizationScope":1,"jobCancelTimeoutInMinutes":1}],"type":1},"repository":{"properties":{"apiUrl":"https://api.github.com/repos/kaadhina/DynamicProvisionSamples","branchesUrl":"https://api.github.com/repos/kaadhina/DynamicProvisionSamples/branches","cloneUrl":"https://github.com/kaadhina/DynamicProvisionSamples.git","fullName":"kaadhina/DynamicProvisionSamples","manageUrl":"https://github.com/kaadhina/DynamicProvisionSamples","refsUrl":"https://api.github.com/repos/kaadhina/DynamicProvisionSamples/git/refs","defaultBranch":"master","connectedServiceId":"4af7dee8-e49c-4417-b0b1-26f91d213d64","isPrivate":"False","isFork":"False","ownerAvatarUrl":"https://avatars1.githubusercontent.com/u/11773114?v=4","lastUpdated":"02/01/2019 15:54:54","nodeId":"MDEwOlJlcG9zaXRvcnkxNjg2ODkzNDU=","hasAdminPermissions":"True","safeOwnerId":"B9F1ED59C3FCEF96296F2982CC10EBF39E1003069000513FF7FC6996FCB8F32C5A56D606E0939649E01B62F91581D8F7139D82E5AF31D988C0AE334A9EF7","ownerId":"11773114","safeRepository":"DynamicProvisionSamples","ownerIsAUser":"True","checkoutNestedSubmodules":"false","cleanOptions":"0","fetchDepth":"0","gitLfsSupport":"false","reportBuildStatus":"true","skipSyncSource":"false","labelSourcesFormat":"$(build.buildNumber)","labelSources":"0"},"id":"kaadhina/DynamicProvisionSamples","type":"GitHub","name":"kaadhina/DynamicProvisionSamples","url":"https://github.com/kaadhina/DynamicProvisionSamples.git","defaultBranch":"master","clean":"false","checkoutSubmodules":false},"processParameters":{},"quality":1,"authoredBy":{"displayName":"Kavipriya","url":"https://app.vssps.visualstudio.com/A401af19b-8f25-491c-a197-02bf3af056a6/_apis/Identities/0e602050-52f1-49dd-b0fd-1a3379794d90","_links":{"avatar":{"href":"https://dev.azure.com/kavipriyaa/_apis/GraphProfile/MemberAvatars/msa.NmE0ZDUxMjMtNTM2Yy03OWUwLWFhYzctYjk4YTM0ZDIzNDcw"}},"id":"0e602050-52f1-49dd-b0fd-1a3379794d90","uniqueName":"kavipriya.a@outlook.com","imageUrl":"https://dev.azure.com/kavipriyaa/_api/_common/identityImage?id=0e602050-52f1-49dd-b0fd-1a3379794d90","descriptor":"msa.NmE0ZDUxMjMtNTM2Yy03OWUwLWFhYzctYjk4YTM0ZDIzNDcw"},"drafts":[],"queue":{"_links":{"self":{"href":"https://dev.azure.com/kavipriyaa/_apis/build/Queues/4"}},"id":4,"name":"Hosted VS2017","url":"https://dev.azure.com/kavipriyaa/_apis/build/Queues/4","pool":{"id":4,"name":"Hosted VS2017","isHosted":true}},"id":1,"name":"TestProject-CI","url":"https://dev.azure.com/kavipriyaa/71bc0316-d6f3-44a4-9401-a467de3d86fc/_apis/build/Definitions/1?revision=62","uri":"vstfs:///Build/Definition/1","path":"\\","type":2,"queueStatus":0,"revision":62,"createdDate":"2019-02-05T06:53:54.530Z","project":{"id":"71bc0316-d6f3-44a4-9401-a467de3d86fc","name":"TestProject","url":"https://dev.azure.com/kavipriyaa/_apis/projects/71bc0316-d6f3-44a4-9401-a467de3d86fc","state":1,"revision":10,"visibility":2,"lastUpdateTime":"2019-02-01T08:39:13.593Z"}}